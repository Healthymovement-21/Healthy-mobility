<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />

  <!-- PWA / iOS Standalone (IDENTISCH auf allen Seiten) -->
  <link rel="manifest" href="manifest.json">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Healthy Mobility">
  <link rel="apple-touch-icon" href="icon-192.png">

  <meta name="theme-color" content="#ffffff" id="themeColorMeta">
  <title>Healthy Mobility ‚Äì Shop</title>

  <script defer data-domain="healthymovement-21.github.io" src="https://plausible.io/js/script.js"></script>
  <link rel="stylesheet" href="style.css?v=20260216k">
</head>

<body class="shop-page has-top-nav">

  <!-- Search overlay (opens from bottom search icon) -->
  <div class="overlay" id="searchOverlay" aria-hidden="true">
    <div class="overlay-panel">
      <div class="overlay-top">
        <input id="overlayInput" type="search" placeholder="Produkt suchen‚Ä¶" autocomplete="off">
        <button id="overlayClose" type="button">Schlie√üen</button>
      </div>
      <div class="suggest" id="suggestList"></div>
    </div>
  </div>
  <!-- (FIX) das extra </div> war hier zu viel und ist entfernt -->

  <div class="top-nav" role="navigation" aria-label="Top Navigation">
    <div class="row">
      <a class="brand-floating" href="index.html" onclick="track('brand_click','shop')"><span class="glow">Healthy</span><span>Mobility</span></a>
      <div class="bar">
      <button class="top-btn" type="button" onclick="go('index.html')">
        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M3 10.5L12 3l9 7.5V21a1 1 0 0 1-1 1h-5v-6H9v6H4a1 1 0 0 1-1-1V10.5Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
        </svg>
        <span>Home</span>
      </button>
      <button class="top-btn active" type="button" onclick="go('shop.html')">
        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M6 8h12l-1 13H7L6 8Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
          <path d="M9 8a3 3 0 0 1 6 0" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
        <span>Shop</span>
      </button>
      <button class="top-btn" type="button" onclick="openOverlay()">
        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15Z" stroke="currentColor" stroke-width="2"/>
          <path d="M16.2 16.2 21 21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
        <span>Suche</span>
      </button>
      </div>
      <button class="top-btn theme-btn" id="themeBtn" type="button" aria-label="Theme wechseln">üåó</button>
    </div>
  </div>

  <main class="page">
    <div class="shop-head">
      <h1 id="shopTitle">Shop <span class="shop-caret">‚ñæ</span></h1>
    </div>

    <div class="shop-cats" id="shopCats" aria-hidden="true">
      <button class="cat-item active" type="button" data-cat="Alle">Alle</button>
      <button class="cat-item" type="button" data-cat="Regeneration">Regeneration</button>
      <button class="cat-item" type="button" data-cat="Sport & Freizeit">Sport & Freizeit</button>
      <button class="cat-item" type="button" data-cat="Rehabilitation">Rehabilitation</button>
    </div>

    <div class="shop-spacer"></div>

    <section class="product-grid" id="grid">
      <div class="product" id="massagepistole" data-category="Regeneration">
        <h3>Massagepistole</h3>
        <p>Zur Lockerung verspannter Muskulatur, z. B. nach sportlicher Belastung oder bei muskul√§ren Verspannungen durch Alltag oder Beruf.</p>
        <p class="why">Kurz nach Belastung zur schnellen Lockerung.</p>
        <span class="price">25,99 ‚Ç¨</span>
        <div class="product-actions">
          <a class="btn" href="https://amzn.to/45QvJM2" target="_blank" rel="noopener" onclick="productClick('Massagepistole')">Bei Amazon ansehen</a>
          <button class="share-btn" type="button" aria-label="Teilen" onclick="shareProduct('Massagepistole','https://amzn.to/45QvJM2')">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 3v10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M8.5 6.5 12 3l3.5 3.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M6 13v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
      </div>

      <div class="product" id="moorkissen" data-category="W√§rme">
        <h3>Moorkissen</h3>
        <p>Zur lokalen W√§rmeanwendung im Bereich R√ºcken, Nacken oder Schulter. W√§rme kann entspannend wirken und die Durchblutung f√∂rdern.</p>
        <p class="why">Sanfte Tiefenw√§rme f√ºr R√ºcken, Nacken, Schulter.</p>
        <span class="price">29,89 ‚Ç¨</span>
        <div class="product-actions">
          <a class="btn" href="https://amzn.to/4cgzQ7V" target="_blank" rel="noopener" onclick="productClick('Moorkissen')">Bei Amazon ansehen</a>
          <button class="share-btn" type="button" aria-label="Teilen" onclick="shareProduct('Moorkissen','https://amzn.to/4cgzQ7V')">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 3v10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M8.5 6.5 12 3l3.5 3.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M6 13v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
      </div>

      <div class="product" id="knie-kuehlpack" data-category="K√§lte">
        <h3>Knie-K√ºhlpack</h3>
        <p>Zur K√ºhlung bei akuten Reizzust√§nden oder nach Belastung. Anwendung individuell und zeitlich begrenzt.</p>
        <p class="why">Akut k√ºhlen bei Reizzust√§nden oder nach Sport.</p>
        <span class="price">17,89 ‚Ç¨</span>
        <div class="product-actions">
          <a class="btn" href="https://amzn.to/4qjoAuL" target="_blank" rel="noopener" onclick="productClick('Knie-K√ºhlpack')">Bei Amazon ansehen</a>
          <button class="share-btn" type="button" aria-label="Teilen" onclick="shareProduct('Knie-K√ºhlpack','https://amzn.to/4qjoAuL')">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 3v10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M8.5 6.5 12 3l3.5 3.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M6 13v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
      </div>

      <div class="product" id="retterspitz" data-category="Regeneration">
        <h3>Retterspitz</h3>
        <p>√Ñu√üerlich anwendbar als unterst√ºtzende Ma√ünahme bei gereizten oder entz√ºndlichen Strukturen.</p>
        <p class="why">Klassiker zur √§u√üerlichen Unterst√ºtzung bei Reizung.</p>
        <span class="price">26,14 ‚Ç¨</span>
        <div class="product-actions">
          <a class="btn" href="https://amzn.to/3ZnEwRS" target="_blank" rel="noopener" onclick="productClick('Retterspitz')">Bei Amazon ansehen</a>
          <button class="share-btn" type="button" aria-label="Teilen" onclick="shareProduct('Retterspitz','https://amzn.to/3ZnEwRS')">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 3v10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M8.5 6.5 12 3l3.5 3.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M6 13v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
      </div>

      <div class="product" id="macdavid-bandage" data-category="Stabilit√§t">
        <h3>MacDavid Bandage</h3>
        <p>Zur Unterst√ºtzung und Stabilisierung von Gelenken bei sportlicher oder allt√§glicher Belastung.</p>
        <p class="why">Gibt Gelenken Halt bei Bewegung.</p>
        <span class="price">44,95 ‚Ç¨</span>
        <div class="product-actions">
          <a class="btn" href="https://amzn.to/4tvfiin" target="_blank" rel="noopener" onclick="productClick('MacDavid Bandage')">Bei Amazon ansehen</a>
          <button class="share-btn" type="button" aria-label="Teilen" onclick="shareProduct('MacDavid Bandage','https://amzn.to/4tvfiin')">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 3v10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M8.5 6.5 12 3l3.5 3.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M6 13v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
      </div>

      <div class="product" id="leukotape" data-category="Stabilit√§t">
        <h3>Leukotape</h3>
        <p>Zur funktionellen Unterst√ºtzung von Gelenken oder zur gezielten Bewegungsf√ºhrung.</p>
        <p class="why">Gezielte F√ºhrung und Unterst√ºtzung von Gelenken.</p>
        <span class="price">9,99 ‚Ç¨</span>
        <div class="product-actions">
          <a class="btn" href="https://amzn.to/4kplTGW" target="_blank" rel="noopener" onclick="productClick('Leukotape')">Bei Amazon ansehen</a>
          <button class="share-btn" type="button" aria-label="Teilen" onclick="shareProduct('Leukotape','https://amzn.to/4kplTGW')">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 3v10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M8.5 6.5 12 3l3.5 3.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M6 13v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
      </div>

      <div class="product" id="laufband" data-category="Training">
        <h3>Laufband</h3>
        <p>F√ºr moderates Ausdauertraining zu Hause, wetterunabh√§ngig oder bei eingeschr√§nkter Mobilit√§t.</p>
        <p class="why">Bewegung zu Hause ‚Äì wetterunabh√§ngig.</p>
        <span class="price">94,99 ‚Ç¨</span>
        <div class="product-actions">
          <a class="btn" href="https://amzn.to/3O9os3F" target="_blank" rel="noopener" onclick="productClick('Laufband')">Bei Amazon ansehen</a>
          <button class="share-btn" type="button" aria-label="Teilen" onclick="shareProduct('Laufband','https://amzn.to/3O9os3F')">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 3v10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M8.5 6.5 12 3l3.5 3.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M6 13v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
      </div>

      <div class="product" id="thrombosestrumpf" data-category="Regeneration">
        <h3>Thrombosestrumpf</h3>
        <p>Zur Unterst√ºtzung des ven√∂sen R√ºckflusses bei l√§ngeren Ruhephasen oder eingeschr√§nkter Bewegung.</p>
        <p class="why">Unterst√ºtzt den ven√∂sen R√ºckfluss bei Ruhe.</p>
        <span class="price">26,90 ‚Ç¨</span>
        <div class="product-actions">
          <a class="btn" href="https://amzn.to/4r3NY91" target="_blank" rel="noopener" onclick="productClick('Thrombosestrumpf')">Bei Amazon ansehen</a>
          <button class="share-btn" type="button" aria-label="Teilen" onclick="shareProduct('Thrombosestrumpf','https://amzn.to/4r3NY91')">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 3v10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M8.5 6.5 12 3l3.5 3.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M6 13v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
      </div>

      <div class="product" id="waermemessgeraet" data-category="Diagnostik">
        <h3>W√§rmemessger√§t</h3>
        <p>Zur objektiveren Einsch√§tzung von Temperaturunterschieden, z. B. im Verlauf nach Belastung.</p>
        <p class="why">Vergleicht Temperaturunterschiede objektiv.</p>
        <span class="price">16,14 ‚Ç¨</span>
        <div class="product-actions">
          <a class="btn" href="https://amzn.to/4a6vNtq" target="_blank" rel="noopener" onclick="productClick('W√§rmemessger√§t')">Bei Amazon ansehen</a>
          <button class="share-btn" type="button" aria-label="Teilen" onclick="shareProduct('W√§rmemessger√§t','https://amzn.to/4a6vNtq')">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 3v10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M8.5 6.5 12 3l3.5 3.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M6 13v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
      </div>

      <div class="product" id="aloe-vera-gel" data-category="Pflege">
        <h3>Aloe-Vera-Gel</h3>
        <p>Zur √§u√üerlichen Hautpflege, insbesondere nach thermischen Anwendungen oder bei sensibler Haut.</p>
        <p class="why">Beruhigt die Haut nach W√§rme/K√§lte.</p>
        <span class="price">6,30 ‚Ç¨</span>
        <div class="product-actions">
          <a class="btn" href="https://amzn.to/4rftMB6" target="_blank" rel="noopener" onclick="productClick('Aloe-Vera-Gel')">Bei Amazon ansehen</a>
          <button class="share-btn" type="button" aria-label="Teilen" onclick="shareProduct('Aloe-Vera-Gel','https://amzn.to/4rftMB6')">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 3v10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M8.5 6.5 12 3l3.5 3.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M6 13v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
      </div>

      <div class="product" id="lymphmassband" data-category="Diagnostik">
        <h3>Lymphma√üband</h3>
        <p>Zur Verlaufskontrolle von Umfangsver√§nderungen bei Schwellungen oder √ñdemen.</p>
        <p class="why">Umfang im Verlauf schnell dokumentieren.</p>
        <span class="price">20,09 ‚Ç¨</span>
        <div class="product-actions">
          <a class="btn" href="https://amzn.to/3MvIhSn" target="_blank" rel="noopener" onclick="productClick('Lymphma√üband')">Bei Amazon ansehen</a>
          <button class="share-btn" type="button" aria-label="Teilen" onclick="shareProduct('Lymphma√üband','https://amzn.to/3MvIhSn')">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 3v10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M8.5 6.5 12 3l3.5 3.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M6 13v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
      </div>

      <div class="product" id="elektrischer-shaker" data-category="Training">
        <h3>Elektrischer Shaker</h3>
        <p>Zur unkomplizierten Zubereitung von Getr√§nken oder Nahrungserg√§nzungen im Alltag.</p>
        <p class="why">Einfacher Alltag f√ºr Shakes & Supplements.</p>
        <span class="price">19,54 ‚Ç¨</span>
        <div class="product-actions">
          <a class="btn" href="https://amzn.to/3MhQ1HB" target="_blank" rel="noopener" onclick="productClick('Elektrischer Shaker')">Bei Amazon ansehen</a>
          <button class="share-btn" type="button" aria-label="Teilen" onclick="shareProduct('Elektrischer Shaker','https://amzn.to/3MhQ1HB')">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 3v10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M8.5 6.5 12 3l3.5 3.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M6 13v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
      </div>

      <div class="product" id="bauerfeind-fussbandage" data-category="Stabilit√§t">
        <h3>BAUERFEIND Fu√übandage</h3>
        <p>Zur Stabilisierung und Entlastung des Fu√ües bei Belastung im Alltag oder Sport.</p>
        <p class="why">St√ºtzt den Fu√ü bei Alltag & Sport.</p>
        <span class="price">47,43 ‚Ç¨</span>
        <div class="product-actions">
          <a class="btn" href="https://amzn.to/3MchKJM" target="_blank" rel="noopener" onclick="productClick('BAUERFEIND Fu√übandage')">Bei Amazon ansehen</a>
          <button class="share-btn" type="button" aria-label="Teilen" onclick="shareProduct('BAUERFEIND Fu√übandage','https://amzn.to/3MchKJM')">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 3v10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M8.5 6.5 12 3l3.5 3.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M6 13v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
      </div>

      <div class="product" id="bauerfeind-armbandage" data-category="Stabilit√§t">
        <h3>BAUERFEIND Armbandage</h3>
        <p>Zur Unterst√ºtzung des Ellenbogens bei Belastung oder √úberlastung.</p>
        <p class="why">Entlastet den Ellenbogen bei Belastung.</p>
        <span class="price">35,20 ‚Ç¨</span>
        <div class="product-actions">
          <a class="btn" href="https://amzn.to/4alA3nI" target="_blank" rel="noopener" onclick="productClick('BAUERFEIND Armbandage')">Bei Amazon ansehen</a>
          <button class="share-btn" type="button" aria-label="Teilen" onclick="shareProduct('BAUERFEIND Armbandage','https://amzn.to/4alA3nI')">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 3v10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M8.5 6.5 12 3l3.5 3.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M6 13v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
      </div>

      <div class="product" id="neue-empfehlung-1" data-category="Training">
        <h3>Neue Empfehlung 1</h3>
        <p>Zus√§tzliche Produktempfehlung f√ºr Alltag, Training oder Regeneration.</p>
        <p class="why">Weitere Option aus deiner Empfehlungsliste.</p>
        <span class="price">Preis bei Amazon pr√ºfen</span>
        <div class="product-actions">
          <a class="btn" href="https://amzn.to/4tIZtVq" target="_blank" rel="noopener" onclick="productClick('Neue Empfehlung 1')">Bei Amazon ansehen</a>
          <button class="share-btn" type="button" aria-label="Teilen" onclick="shareProduct('Neue Empfehlung 1','https://amzn.to/4tIZtVq')">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 3v10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M8.5 6.5 12 3l3.5 3.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M6 13v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
      </div>

      <div class="product" id="neue-empfehlung-2" data-category="Regeneration">
        <h3>Neue Empfehlung 2</h3>
        <p>Zus√§tzliche Produktempfehlung f√ºr Alltag, Training oder Regeneration.</p>
        <p class="why">Weitere Option aus deiner Empfehlungsliste.</p>
        <span class="price">Preis bei Amazon pr√ºfen</span>
        <div class="product-actions">
          <a class="btn" href="https://amzn.to/3ZDThQM" target="_blank" rel="noopener" onclick="productClick('Neue Empfehlung 2')">Bei Amazon ansehen</a>
          <button class="share-btn" type="button" aria-label="Teilen" onclick="shareProduct('Neue Empfehlung 2','https://amzn.to/3ZDThQM')">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 3v10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M8.5 6.5 12 3l3.5 3.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M6 13v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
      </div>

      <div class="product" id="neue-empfehlung-3" data-category="Stabilit√§t">
        <h3>Neue Empfehlung 3</h3>
        <p>Zus√§tzliche Produktempfehlung f√ºr Alltag, Training oder Regeneration.</p>
        <p class="why">Weitere Option aus deiner Empfehlungsliste.</p>
        <span class="price">Preis bei Amazon pr√ºfen</span>
        <div class="product-actions">
          <a class="btn" href="https://amzn.to/4qCMuBO" target="_blank" rel="noopener" onclick="productClick('Neue Empfehlung 3')">Bei Amazon ansehen</a>
          <button class="share-btn" type="button" aria-label="Teilen" onclick="shareProduct('Neue Empfehlung 3','https://amzn.to/4qCMuBO')">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 3v10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M8.5 6.5 12 3l3.5 3.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M6 13v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
      </div>

      <div class="product" id="neue-empfehlung-4" data-category="Diagnostik">
        <h3>Neue Empfehlung 4</h3>
        <p>Zus√§tzliche Produktempfehlung f√ºr Alltag, Training oder Regeneration.</p>
        <p class="why">Weitere Option aus deiner Empfehlungsliste.</p>
        <span class="price">Preis bei Amazon pr√ºfen</span>
        <div class="product-actions">
          <a class="btn" href="https://amzn.to/3MAkkJz" target="_blank" rel="noopener" onclick="productClick('Neue Empfehlung 4')">Bei Amazon ansehen</a>
          <button class="share-btn" type="button" aria-label="Teilen" onclick="shareProduct('Neue Empfehlung 4','https://amzn.to/3MAkkJz')">
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 3v10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M8.5 6.5 12 3l3.5 3.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M6 13v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
      </div>
    </section>

    <div class="empty" id="emptyState">
      <strong>Keine Treffer.</strong><br>
      Tipp: Suchbegriff √§ndern.
    </div>

    <div class="footer">
      <div>
        Werbung / Affiliate-Links: Diese Seite enth√§lt Affiliate-Links. Wenn du dar√ºber einkaufst, erhalte ich eine Provision.
        F√ºr dich entstehen keine zus√§tzlichen Kosten.
      </div>
      <div style="margin-top:10px;">
        Preise k√∂nnen sich bei Amazon jederzeit √§ndern. Ma√ügeblich ist der Preis auf Amazon zum Zeitpunkt des Kaufs.
      </div>
      <div style="margin-top:10px;">
        Medizinischer Hinweis: Die Inhalte stellen keine medizinische Beratung dar.
      </div>
    </div>
  </main>

  <!-- Bottom Nav -->
  <div class="bottom-nav" role="navigation" aria-label="Bottom Navigation">
    <div class="bar">
      <button class="nav-btn" type="button" onclick="go('index.html')">
        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M3 10.5L12 3l9 7.5V21a1 1 0 0 1-1 1h-5v-6H9v6H4a1 1 0 0 1-1-1V10.5Z"
                stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
        </svg>
        <div style="font-size:11px;">Home</div>
      </button>

      <button class="nav-btn active" type="button" onclick="go('shop.html')">
        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M6 8h12l-1 13H7L6 8Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
          <path d="M9 8a3 3 0 0 1 6 0" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
        <div style="font-size:11px;">Shop</div>
      </button>

      <button class="nav-btn" type="button" id="openSearchBtn" onclick="openOverlay()">
        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15Z" stroke="currentColor" stroke-width="2"/>
          <path d="M16.2 16.2 21 21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
        <div style="font-size:11px;">Suche</div>
      </button>
    </div>
  </div>

  <script>
    function track(eventName, label){
      try{ if (window.plausible) window.plausible(eventName, { props:{ label } }); }catch(e){}
    }
    function go(url){
  window.location.assign(url);
}
    const themeMeta = document.querySelector('meta[name="theme-color"][id="themeColorMeta"]');
    function setThemeMeta(){
      if (!themeMeta) return;
      const cur = document.documentElement.getAttribute("data-theme") || "dark";
      themeMeta.setAttribute("content", cur === "light" ? "#ffffff" : "#12151b");
    }

    // Theme ALWAYS top-right
    const root = document.documentElement;
    const saved = localStorage.getItem("theme");
    if (saved) root.setAttribute("data-theme", saved);
    else {
      const prefersLight = window.matchMedia && window.matchMedia("(prefers-color-scheme: light)").matches;
      root.setAttribute("data-theme", prefersLight ? "light" : "dark");
    }
    document.getElementById("themeBtn").addEventListener("click", () => {
      const cur = root.getAttribute("data-theme") || "dark";
      const next = cur === "dark" ? "light" : "dark";
      root.setAttribute("data-theme", next);
      localStorage.setItem("theme", next);
      track("theme_toggle", next);
      setThemeMeta();
    });
    setThemeMeta();

    // Search overlay in shop
    const items = Array.from(document.querySelectorAll(".product"));
    const emptyState = document.getElementById("emptyState");
    const overlay = document.getElementById("searchOverlay");
    const openSearchBtn = document.getElementById("openSearchBtn");
    const overlayInput = document.getElementById("overlayInput");
    const overlayClose = document.getElementById("overlayClose");
    const suggestList = document.getElementById("suggestList");
    const shopTitle = document.getElementById("shopTitle");
    const shopCats = document.getElementById("shopCats");
    const catItems = Array.from(document.querySelectorAll(".cat-item"));
    let selectedCategory = "Alle";

    const products = items.map(el => ({
      id: el.id,
      name: (el.querySelector("h3")?.textContent || "").trim(),
      price: (el.querySelector(".price")?.textContent || "").trim(),
      category: el.getAttribute("data-category") || "All"
    }));

    const amazonAsinByShortLink = {
      "https://amzn.to/45QvJM2": "B09NZT1VV4",
      "https://amzn.to/4cgzQ7V": "B08SQM4GK6",
      "https://amzn.to/4qjoAuL": "B0B6TXXL51",
      "https://amzn.to/3ZnEwRS": "B00E4UGQYG",
      "https://amzn.to/4tvfiin": "B000V41428",
      "https://amzn.to/4kplTGW": "B001BB6UEM",
      "https://amzn.to/3O9os3F": "B0FLJHY419",
      "https://amzn.to/4r3NY91": "B0D15GQVRM",
      "https://amzn.to/4a6vNtq": "B0BGGJH3G2",
      "https://amzn.to/4rftMB6": "B0C7BFWTQ7",
      "https://amzn.to/3MvIhSn": "B082W886W9",
      "https://amzn.to/3MhQ1HB": "B0C7GWGLWV",
      "https://amzn.to/3MchKJM": "B01BJT4BY6",
      "https://amzn.to/4alA3nI": "B076KP7BKW",
      "https://amzn.to/4tIZtVq": "B0FKBLTN38",
      "https://amzn.to/3ZDThQM": "B004FNTGUI",
      "https://amzn.to/4qCMuBO": "B0DVC94TN2",
      "https://amzn.to/3MAkkJz": "B0GFSJYVX6"
    };
    const amazonImageIdByAsin = {
      "B09NZT1VV4": "41ePXOYTQLL",
      "B08SQM4GK6": "51jrofUQqTL",
      "B0B6TXXL51": "712EtPOhEyL",
      "B00E4UGQYG": "51DsdagjsHL",
      "B000V41428": "417j4gAHgJL",
      "B001BB6UEM": "81gYYKBJLzL",
      "B0FLJHY419": "71-2ijFGxDL",
      "B0D15GQVRM": "81EseGQGbQL",
      "B0BGGJH3G2": "61jmsaMMHXL",
      "B0C7BFWTQ7": "715ydHEKcvL",
      "B082W886W9": "51Ynl3tyVOL",
      "B0C7GWGLWV": "81HjUEX21+L",
      "B01BJT4BY6": "61Y+I5ZhJQL",
      "B076KP7BKW": "81Gy4Upf0cL",
      "B0FKBLTN38": "61jiQHEqBfL",
      "B004FNTGUI": "71ZXju02EjL",
      "B0DVC94TN2": "71tCehJ9p9L",
      "B0GFSJYVX6": "61UqWKzH5yL"
    };
    const imageUrlOverrideByProductId = {
      "massagepistole": "https://m.media-amazon.com/images/I/71scpP5T26L._AC_SY355_.jpg",
      "moorkissen": "https://m.media-amazon.com/images/I/61vUUfvCJGL._AC_SL1500_.jpg",
      "retterspitz": "https://m.media-amazon.com/images/I/61lTf9uosoL._SL1500_.jpg"
    };

    function amazonAsinFromUrl(url){
      if (!url) return "";
      if (amazonAsinByShortLink[url]) return amazonAsinByShortLink[url];
      const direct = String(url).match(/\/dp\/([A-Z0-9]{10})/i);
      return direct ? direct[1].toUpperCase() : "";
    }

    function amazonImageUrl(asin){
      if (!asin) return "";
      const imageId = amazonImageIdByAsin[asin] || "";
      if (!imageId) return "";
      return `https://m.media-amazon.com/images/I/${imageId}._AC_SL1500_.jpg`;
    }

    function injectProductImages(){
      items.forEach(el => {
        if (el.querySelector(".product-media")) return;
        const title = (el.querySelector("h3")?.textContent || "Produkt").trim();
        const productLink = el.querySelector(".product-actions .btn")?.getAttribute("href") || "";
        const asin = amazonAsinFromUrl(productLink);
        const src = imageUrlOverrideByProductId[el.id] || amazonImageUrl(asin);
        const figure = document.createElement("div");
        figure.className = "product-media";
        const img = document.createElement("img");
        img.src = src;
        img.alt = `${title} Produktbild`;
        img.loading = "lazy";
        img.decoding = "async";
        img.referrerPolicy = "origin";
        figure.appendChild(img);
        el.insertBefore(figure, el.firstChild);
      });
    }
    injectProductImages();

    function openOverlay(){
      overlay.classList.add("open");
      overlay.setAttribute("aria-hidden","false");
      overlayInput.value = "";
      renderSuggest("");
      setTimeout(()=> overlayInput.focus(), 50);
      track("search_overlay_open","shop");
    }
    function closeOverlay(){
      overlay.classList.remove("open");
      overlay.setAttribute("aria-hidden","true");
      track("search_overlay_close","shop");
    }
    window.openOverlay = openOverlay;

    function openCategories(){
      shopCats.classList.add("open");
      shopCats.setAttribute("aria-hidden","false");
      document.body.classList.add("cats-open");
      track("cat_open","shop");
    }
    function closeCategories(){
      shopCats.classList.remove("open");
      shopCats.setAttribute("aria-hidden","true");
      document.body.classList.remove("cats-open");
      track("cat_close","shop");
    }

    function categoryMatch(productCat){
      if (selectedCategory === "Alle") return true;
      if (selectedCategory === "Regeneration") return ["Regeneration","W√§rme","K√§lte"].includes(productCat);
      if (selectedCategory === "Sport & Freizeit") return ["Training","Stabilit√§t"].includes(productCat);
      if (selectedCategory === "Rehabilitation") return ["Diagnostik","Pflege"].includes(productCat);
      return productCat === selectedCategory;
    }

    function applySearch(){
      const q = (overlayInput.value || "").trim().toLowerCase();
      let visible = 0;
      items.forEach(el=>{
        const t = (el.textContent || "").toLowerCase();
        const cat = el.getAttribute("data-category") || "";
        const show = categoryMatch(cat) && (!q || t.includes(q));
        el.style.display = show ? "" : "none";
        if (show) visible++;
      });
      emptyState.style.display = (visible === 0) ? "block" : "none";
      checkVisibility();
    }

    function renderSuggest(q){
      const query = (q||"").trim().toLowerCase();
      if (!query){
        suggestList.innerHTML = "";
        suggestList.style.display = "none";
        return;
      }
      const results = products
        .filter(p => categoryMatch(p.category) && (!query || p.name.toLowerCase().includes(query)))
        .slice(0, 10);

      if (results.length === 0){
        suggestList.innerHTML = "";
        suggestList.style.display = "none";
        return;
      }
      suggestList.style.display = "grid";
      suggestList.innerHTML = results.map(p => `
        <button type="button" class="suggest-item" data-id="${p.id}">
          <span class="name">${p.name}</span>
          <span class="meta">${p.price}</span>
        </button>
      `).join("");
    }

    suggestList.addEventListener("click", (e)=>{
      const btn = e.target.closest(".suggest-item");
      if (!btn) return;
      const id = btn.getAttribute("data-id");
      const target = document.getElementById(id);
      if (target){
        closeOverlay();
        target.scrollIntoView({ behavior: "smooth", block: "start" });
        track("search_select", id);
      }
    });

    overlayInput.addEventListener("input", ()=> { renderSuggest(overlayInput.value); applySearch(); });
    if (openSearchBtn) openSearchBtn.addEventListener("click", openOverlay);
    if (overlayClose) overlayClose.addEventListener("click", closeOverlay);
    if (overlay) overlay.addEventListener("click", (e)=>{ if(e.target === overlay) closeOverlay(); });
    document.addEventListener("keydown",(e)=>{ if(e.key==="Escape") closeOverlay(); });

    if (shopTitle) shopTitle.addEventListener("click", ()=>{
      if (shopCats.classList.contains("open")) closeCategories(); else openCategories();
    });
    catItems.forEach(btn => btn.addEventListener("click", ()=>{
      selectedCategory = btn.getAttribute("data-cat") || "Alle";
      catItems.forEach(node => node.classList.remove("active"));
      btn.classList.add("active");
      closeCategories();
      applySearch();
      renderSuggest(overlayInput.value);
    }));

    // local click counts for popular
    function bumpLocalClick(name){
      try{
        const raw = localStorage.getItem("hm_clicks_v1");
        const obj = raw ? JSON.parse(raw) : {};
        obj[name] = (obj[name] || 0) + 1;
        localStorage.setItem("hm_clicks_v1", JSON.stringify(obj));
      }catch(e){}
    }
    function productClick(name){
      bumpLocalClick(name);
      track("product_click", name);
    }
    window.productClick = productClick;

    async function shareProduct(name, url){
      try{
        if (navigator.share){
          await navigator.share({ title: name, text: "Schau dir das mal an:", url });
          track("share_product", name);
          return;
        }
      }catch(e){}
      try{
        await navigator.clipboard.writeText(url);
        alert("Link kopiert");
        track("share_product_copy", name);
      }catch(e){
        prompt("Link kopieren:", url);
      }
    }
    window.shareProduct = shareProduct;

    // Scroll reveal (window scroll for full-screen page flow)
    const scrollHost = window;
    function checkVisibility(){
      const viewportH = (scrollHost === window) ? window.innerHeight : scrollHost.clientHeight;
      const trigger = viewportH * 0.92;
      items.forEach(el=>{
        if (el.style.display === "none") { el.classList.remove("active"); return; }
        const top = el.getBoundingClientRect().top;
        const bottom = el.getBoundingClientRect().bottom;
        const inView = (top < trigger) && (bottom > 0);
        if (inView) el.classList.add("active"); else el.classList.remove("active");
      });
    }
    checkVisibility();
    requestAnimationFrame(()=>{
      document.body.classList.add("scroll-anim");
      checkVisibility();
    });
    window.addEventListener("scroll", checkVisibility, { passive:true });
    window.addEventListener("resize", checkVisibility);

    applySearch();

    function initScrollReveal(){
      const targets = Array.from(document.querySelectorAll(".shop-head, .shop-cats, .footer"));
      if (!("IntersectionObserver" in window)){
        targets.forEach(el => el.classList.add("is-visible"));
        return;
      }
      targets.forEach(el => el.classList.add("scroll-reveal"));
      const io = new IntersectionObserver((entries)=>{
        entries.forEach(entry => {
          entry.target.classList.toggle("is-visible", entry.isIntersecting);
        });
      }, { threshold: 0.2, rootMargin: "0px 0px -10% 0px" });
      targets.forEach(el => io.observe(el));
    }
    initScrollReveal();

    function initLogoOnScroll(){
      const update = () => {
        const y = window.scrollY || window.pageYOffset || 0;
        document.body.classList.toggle("logo-scroll-hidden", y > 4);
      };
      window.addEventListener("scroll", update, { passive:true });
      update();
    }
    initLogoOnScroll();

    function initMobileSwipe(){
      const mq = window.matchMedia("(max-width: 900px)");
      if (!mq.matches) return;
      let startX = 0, startY = 0, tracking = false;
      document.addEventListener("touchstart", (e)=>{
        if (e.touches.length !== 1) return;
        if (overlay.classList.contains("open")) return;
        if (shopCats.classList.contains("open")) return;
        const t = e.touches[0];
        startX = t.clientX; startY = t.clientY; tracking = true;
      }, { passive:true });
      document.addEventListener("touchmove", (e)=>{
        if (!tracking) return;
        const t = e.touches[0];
        const dx = t.clientX - startX;
        const dy = t.clientY - startY;
        if (Math.abs(dx) > 70 && Math.abs(dy) < 35){
          tracking = false;
          if (dx > 0) go("index.html");
        }
      }, { passive:true });
      document.addEventListener("touchend", ()=>{ tracking = false; }, { passive:true });
    }
    initMobileSwipe();
  </script>
</body>
</html>
